{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\New folder\\\\vectorshift\\\\frontend\\\\src\\\\nodes\\\\textNode.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useMemo, useState } from 'react';\nimport GenericNode from './GenericNode';\nimport { useStore } from '../store';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HighlightedText = ({\n  text,\n  onChange\n}) => {\n  _s();\n  const [isEditing, setIsEditing] = useState(false);\n  const [editValue, setEditValue] = useState(text);\n  const highlightedText = useMemo(() => {\n    if (!text) return '';\n\n    // Split text by variable patterns and create highlighted spans\n    const parts = text.split(/(\\{\\{\\s*\\w+\\s*\\}\\})/g);\n    return parts.map((part, index) => {\n      if (part.match(/\\{\\{\\s*\\w+\\s*\\}\\}/)) {\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"variable-highlight\",\n          children: part\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 11\n        }, this);\n      }\n      return part;\n    });\n  }, [text]);\n  const handleClick = () => {\n    setIsEditing(true);\n    setEditValue(text);\n  };\n  const handleBlur = () => {\n    setIsEditing(false);\n    onChange(editValue);\n  };\n  const handleKeyDown = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleBlur();\n    }\n    if (e.key === 'Escape') {\n      setEditValue(text);\n      setIsEditing(false);\n    }\n  };\n  if (isEditing) {\n    return /*#__PURE__*/_jsxDEV(\"textarea\", {\n      value: editValue,\n      onChange: e => setEditValue(e.target.value),\n      onBlur: handleBlur,\n      onKeyDown: handleKeyDown,\n      autoFocus: true,\n      style: {\n        width: '100%',\n        height: 'auto',\n        minHeight: '40px',\n        resize: 'none',\n        border: '1px solid #667eea',\n        borderRadius: '4px',\n        padding: '4px',\n        fontFamily: 'inherit',\n        fontSize: '14px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: handleClick,\n    className: \"text-display\",\n    style: {\n      minHeight: '40px',\n      padding: '8px',\n      border: '1px solid #e0e0e0',\n      borderRadius: '4px',\n      cursor: 'text',\n      background: '#fafafa',\n      whiteSpace: 'pre-wrap',\n      wordWrap: 'break-word'\n    },\n    children: text ? highlightedText : /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        color: '#999'\n      },\n      children: [\"Click to edit... Hello \", {\n        input\n      }]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 33\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n_s(HighlightedText, \"5dJKY+xdK8CgdvuERbbLqcqBuH4=\");\n_c = HighlightedText;\nexport function TextNode({\n  id,\n  data\n}) {\n  _s2();\n  const updateNodeField = useStore(s => s.updateNodeField);\n  const template = data.template || '';\n  const variables = useMemo(() => {\n    const matches = template.match(/\\{\\{\\s*(\\w+)\\s*\\}\\}/g);\n    if (!matches) return [];\n    return [...new Set(matches.map(m => m.match(/\\{\\{\\s*(\\w+)\\s*\\}\\}/)[1]))];\n  }, [template]);\n  const variableHandles = variables.map((variable, index) => ({\n    id: variable,\n    top: 40 + index * 20\n  }));\n  const inputHandles = [{\n    id: 'text-input',\n    top: 20\n  }, ...variableHandles];\n  return /*#__PURE__*/_jsxDEV(GenericNode, {\n    title: \"Text Node\",\n    className: \"text-node\",\n    inputHandles: inputHandles,\n    outputHandles: [{\n      id: 'output'\n    }],\n    nodeId: id,\n    style: {\n      minWidth: Math.max(150, template.length * 8),\n      minHeight: Math.max(100, template.split('\\n').length * 20 + 60)\n    },\n    children: /*#__PURE__*/_jsxDEV(HighlightedText, {\n      text: template,\n      onChange: value => updateNodeField(id, 'template', value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }, this);\n}\n_s2(TextNode, \"L2wZPxn/hEHls2Eu/nlLqM5sWZU=\", false, function () {\n  return [useStore];\n});\n_c2 = TextNode;\nvar _c, _c2;\n$RefreshReg$(_c, \"HighlightedText\");\n$RefreshReg$(_c2, \"TextNode\");","map":{"version":3,"names":["useMemo","useState","GenericNode","useStore","jsxDEV","_jsxDEV","HighlightedText","text","onChange","_s","isEditing","setIsEditing","editValue","setEditValue","highlightedText","parts","split","map","part","index","match","className","children","fileName","_jsxFileName","lineNumber","columnNumber","handleClick","handleBlur","handleKeyDown","e","key","shiftKey","preventDefault","value","target","onBlur","onKeyDown","autoFocus","style","width","height","minHeight","resize","border","borderRadius","padding","fontFamily","fontSize","onClick","cursor","background","whiteSpace","wordWrap","color","input","_c","TextNode","id","data","_s2","updateNodeField","s","template","variables","matches","Set","m","variableHandles","variable","top","inputHandles","title","outputHandles","nodeId","minWidth","Math","max","length","_c2","$RefreshReg$"],"sources":["C:/Users/ADMIN/Desktop/New folder/vectorshift/frontend/src/nodes/textNode.js"],"sourcesContent":["import { useMemo, useState } from 'react';\nimport GenericNode from './GenericNode';\nimport { useStore } from '../store';\n\nconst HighlightedText = ({ text, onChange }) => {\n  const [isEditing, setIsEditing] = useState(false);\n  const [editValue, setEditValue] = useState(text);\n\n  const highlightedText = useMemo(() => {\n    if (!text) return '';\n\n    // Split text by variable patterns and create highlighted spans\n    const parts = text.split(/(\\{\\{\\s*\\w+\\s*\\}\\})/g);\n\n    return parts.map((part, index) => {\n      if (part.match(/\\{\\{\\s*\\w+\\s*\\}\\}/)) {\n        return (\n          <span key={index} className=\"variable-highlight\">\n            {part}\n          </span>\n        );\n      }\n      return part;\n    });\n  }, [text]);\n\n  const handleClick = () => {\n    setIsEditing(true);\n    setEditValue(text);\n  };\n\n  const handleBlur = () => {\n    setIsEditing(false);\n    onChange(editValue);\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleBlur();\n    }\n    if (e.key === 'Escape') {\n      setEditValue(text);\n      setIsEditing(false);\n    }\n  };\n\n  if (isEditing) {\n    return (\n      <textarea\n        value={editValue}\n        onChange={(e) => setEditValue(e.target.value)}\n        onBlur={handleBlur}\n        onKeyDown={handleKeyDown}\n        autoFocus\n        style={{\n          width: '100%',\n          height: 'auto',\n          minHeight: '40px',\n          resize: 'none',\n          border: '1px solid #667eea',\n          borderRadius: '4px',\n          padding: '4px',\n          fontFamily: 'inherit',\n          fontSize: '14px'\n        }}\n      />\n    );\n  }\n\n  return (\n    <div\n      onClick={handleClick}\n      className=\"text-display\"\n      style={{\n        minHeight: '40px',\n        padding: '8px',\n        border: '1px solid #e0e0e0',\n        borderRadius: '4px',\n        cursor: 'text',\n        background: '#fafafa',\n        whiteSpace: 'pre-wrap',\n        wordWrap: 'break-word'\n      }}\n    >\n      {text ? highlightedText : <span style={{ color: '#999' }}>Click to edit... Hello {{input}}</span>}\n    </div>\n  );\n};\n\nexport function TextNode({ id, data }) {\n  const updateNodeField = useStore((s) => s.updateNodeField);\n  const template = data.template || '';\n\n  const variables = useMemo(() => {\n    const matches = template.match(/\\{\\{\\s*(\\w+)\\s*\\}\\}/g);\n    if (!matches) return [];\n    return [...new Set(matches.map(m => m.match(/\\{\\{\\s*(\\w+)\\s*\\}\\}/)[1]))];\n  }, [template]);\n\n  const variableHandles = variables.map((variable, index) => ({\n    id: variable,\n    top: 40 + index * 20\n  }));\n\n  const inputHandles = [\n    { id: 'text-input', top: 20 },\n    ...variableHandles\n  ];\n\n  return (\n    <GenericNode\n      title=\"Text Node\"\n      className=\"text-node\"\n      inputHandles={inputHandles}\n      outputHandles={[{ id: 'output' }]}\n      nodeId={id}\n      style={{\n        minWidth: Math.max(150, template.length * 8),\n        minHeight: Math.max(100, template.split('\\n').length * 20 + 60)\n      }}\n    >\n      <HighlightedText\n        text={template}\n        onChange={(value) => updateNodeField(id, 'template', value)}\n      />\n    </GenericNode>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}