{"ast":null,"code":"import _defineProperty from\"C:/Users/ADMIN/Desktop/New folder/vectorshift/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _toConsumableArray from\"C:/Users/ADMIN/Desktop/New folder/vectorshift/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/ADMIN/Desktop/New folder/vectorshift/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// store.js\nimport{create}from\"zustand\";import{addEdge,applyNodeChanges,applyEdgeChanges,MarkerType}from'reactflow';export var useStore=create(function(set,get){return{nodes:[],edges:[],nodeIDs:{},getNodeID:function getNodeID(type){var newIDs=_objectSpread({},get().nodeIDs);if(newIDs[type]===undefined){newIDs[type]=0;}newIDs[type]+=1;set({nodeIDs:newIDs});return\"\".concat(type,\"-\").concat(newIDs[type]);},addNode:function addNode(node){set({nodes:[].concat(_toConsumableArray(get().nodes),[node])});},onNodesChange:function onNodesChange(changes){set({nodes:applyNodeChanges(changes,get().nodes)});},onEdgesChange:function onEdgesChange(changes){set({edges:applyEdgeChanges(changes,get().edges)});},onConnect:function onConnect(connection){set({edges:addEdge(_objectSpread(_objectSpread({},connection),{},{type:'smoothstep',animated:true,markerEnd:{type:MarkerType.Arrow,height:'20px',width:'20px'}}),get().edges)});},updateNodeField:function updateNodeField(nodeId,fieldName,fieldValue){set({nodes:get().nodes.map(function(node){if(node.id===nodeId){node.data=_objectSpread(_objectSpread({},node.data),{},_defineProperty({},fieldName,fieldValue));}return node;})});},savePipeline:function savePipeline(){var _get=get(),nodes=_get.nodes,edges=_get.edges;localStorage.setItem('vectorshift-pipeline',JSON.stringify({nodes:nodes,edges:edges}));},loadPipeline:function loadPipeline(){var saved=localStorage.getItem('vectorshift-pipeline');if(saved){var _JSON$parse=JSON.parse(saved),nodes=_JSON$parse.nodes,edges=_JSON$parse.edges;set({nodes:nodes,edges:edges});}},clearPipeline:function clearPipeline(){set({nodes:[],edges:[],nodeIDs:{}});}};});","map":{"version":3,"names":["create","addEdge","applyNodeChanges","applyEdgeChanges","MarkerType","useStore","set","get","nodes","edges","nodeIDs","getNodeID","type","newIDs","_objectSpread","undefined","concat","addNode","node","_toConsumableArray","onNodesChange","changes","onEdgesChange","onConnect","connection","animated","markerEnd","Arrow","height","width","updateNodeField","nodeId","fieldName","fieldValue","map","id","data","_defineProperty","savePipeline","_get","localStorage","setItem","JSON","stringify","loadPipeline","saved","getItem","_JSON$parse","parse","clearPipeline"],"sources":["C:/Users/ADMIN/Desktop/New folder/vectorshift/frontend/src/store.js"],"sourcesContent":["// store.js\n\nimport { create } from \"zustand\";\nimport {\n    addEdge,\n    applyNodeChanges,\n    applyEdgeChanges,\n    MarkerType,\n  } from 'reactflow';\n\nexport const useStore = create((set, get) => ({\n    nodes: [],\n    edges: [],\n    nodeIDs: {},\n    getNodeID: (type) => {\n        const newIDs = {...get().nodeIDs};\n        if (newIDs[type] === undefined) {\n            newIDs[type] = 0;\n        }\n        newIDs[type] += 1;\n        set({nodeIDs: newIDs});\n        return `${type}-${newIDs[type]}`;\n    },\n    addNode: (node) => {\n        set({\n            nodes: [...get().nodes, node]\n        });\n    },\n    onNodesChange: (changes) => {\n      set({\n        nodes: applyNodeChanges(changes, get().nodes),\n      });\n    },\n    onEdgesChange: (changes) => {\n      set({\n        edges: applyEdgeChanges(changes, get().edges),\n      });\n    },\n    onConnect: (connection) => {\n      set({\n        edges: addEdge({...connection, type: 'smoothstep', animated: true, markerEnd: {type: MarkerType.Arrow, height: '20px', width: '20px'}}, get().edges),\n      });\n    },\n    updateNodeField: (nodeId, fieldName, fieldValue) => {\n      set({\n        nodes: get().nodes.map((node) => {\n          if (node.id === nodeId) {\n            node.data = { ...node.data, [fieldName]: fieldValue };\n          }\n  \n          return node;\n        }),\n      });\n    },\n    savePipeline: () => {\n      const { nodes, edges } = get();\n      localStorage.setItem('vectorshift-pipeline', JSON.stringify({ nodes, edges }));\n    },\n    loadPipeline: () => {\n      const saved = localStorage.getItem('vectorshift-pipeline');\n      if (saved) {\n        const { nodes, edges } = JSON.parse(saved);\n        set({ nodes, edges });\n      }\n    },\n    clearPipeline: () => {\n      set({ nodes: [], edges: [], nodeIDs: {} });\n    },\n  }));\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}