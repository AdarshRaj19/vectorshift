{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\New folder\\\\vectorshift\\\\frontend\\\\src\\\\submit.js\",\n  _s = $RefreshSig$();\nimport { useStore } from './store';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SubmitButton() {\n  _s();\n  const nodes = useStore(s => s.nodes);\n  const edges = useStore(s => s.edges);\n  const handleSubmit = async () => {\n    try {\n      console.log('Submitting pipeline...', {\n        nodes,\n        edges\n      });\n\n      // Clean the node data by removing functions\n      const cleanNodes = nodes.map(node => ({\n        ...node,\n        data: Object.keys(node.data || {}).reduce((acc, key) => {\n          if (typeof node.data[key] !== 'function') {\n            acc[key] = node.data[key];\n          }\n          return acc;\n        }, {})\n      }));\n      const res = await fetch('http://127.0.0.1:8000/pipelines/parse', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          nodes: cleanNodes,\n          edges\n        })\n      });\n      console.log('Response status:', res.status);\n      if (!res.ok) {\n        throw new Error(`HTTP error! status: ${res.status}`);\n      }\n      const data = await res.json();\n      console.log('Response data:', data);\n      let message = `Nodes: ${data.num_nodes}\\nEdges: ${data.num_edges}\\nIs DAG: ${data.is_dag}\\nErrors: ${data.errors.join(', ') || 'None'}`;\n      if (data.results) {\n        message += '\\n\\nResults:\\n' + Object.entries(data.results).map(([id, res]) => `${id}: ${res}`).join('\\n');\n      }\n      alert(message);\n    } catch (error) {\n      console.error('Submit error:', error);\n      alert(`Error submitting pipeline: ${error.message}`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"submit-button\",\n    onClick: handleSubmit,\n    children: \"Submit Pipeline\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 10\n  }, this);\n}\n_s(SubmitButton, \"4kRKK1g4bG3IdA2bc4wAPICQOio=\", false, function () {\n  return [useStore, useStore];\n});\n_c = SubmitButton;\nvar _c;\n$RefreshReg$(_c, \"SubmitButton\");","map":{"version":3,"names":["useStore","jsxDEV","_jsxDEV","SubmitButton","_s","nodes","s","edges","handleSubmit","console","log","cleanNodes","map","node","data","Object","keys","reduce","acc","key","res","fetch","method","headers","body","JSON","stringify","status","ok","Error","json","message","num_nodes","num_edges","is_dag","errors","join","results","entries","id","alert","error","className","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/ADMIN/Desktop/New folder/vectorshift/frontend/src/submit.js"],"sourcesContent":["import { useStore } from './store';\n\nexport default function SubmitButton() {\n  const nodes = useStore((s) => s.nodes);\n  const edges = useStore((s) => s.edges);\n\n  const handleSubmit = async () => {\n    try {\n      console.log('Submitting pipeline...', { nodes, edges });\n\n      // Clean the node data by removing functions\n      const cleanNodes = nodes.map(node => ({\n        ...node,\n        data: Object.keys(node.data || {}).reduce((acc, key) => {\n          if (typeof node.data[key] !== 'function') {\n            acc[key] = node.data[key];\n          }\n          return acc;\n        }, {})\n      }));\n\n      const res = await fetch('http://127.0.0.1:8000/pipelines/parse', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ nodes: cleanNodes, edges }),\n      });\n\n      console.log('Response status:', res.status);\n\n      if (!res.ok) {\n        throw new Error(`HTTP error! status: ${res.status}`);\n      }\n\n      const data = await res.json();\n      console.log('Response data:', data);\n\n      let message = `Nodes: ${data.num_nodes}\\nEdges: ${data.num_edges}\\nIs DAG: ${data.is_dag}\\nErrors: ${data.errors.join(', ') || 'None'}`;\n      if (data.results) {\n        message += '\\n\\nResults:\\n' + Object.entries(data.results).map(([id, res]) => `${id}: ${res}`).join('\\n');\n      }\n      alert(message);\n    } catch (error) {\n      console.error('Submit error:', error);\n      alert(`Error submitting pipeline: ${error.message}`);\n    }\n  };\n\n  return <button className=\"submit-button\" onClick={handleSubmit}>Submit Pipeline</button>;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}